rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Allow authenticated users to read and write all documents
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
    
    // More specific rules for production (commented out for now)
    // Uncomment and customize these when deploying to production
    
    // Users collection - users can read all, but only update their own profile
    // match /users/{userId} {
    //   allow read: if request.auth != null;
    //   allow write: if request.auth != null && request.auth.uid == userId;
    // }
    
    // Appointments collection - authenticated users can read/write
    // match /appointments/{appointmentId} {
    //   allow read, write: if request.auth != null;
    // }
    
    // Invoices collection - authenticated users can read/write
    // match /invoices/{invoiceId} {
    //   allow read, write: if request.auth != null;
    // }
    
    // Chat threads and messages - authenticated users can read/write
    // match /chatThreads/{threadId} {
    //   allow read, write: if request.auth != null;
    //   match /messages/{messageId} {
    //     allow read, write: if request.auth != null;
    //   }
    // }
  }
}
